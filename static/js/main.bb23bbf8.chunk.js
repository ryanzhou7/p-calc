(this["webpackJsonpcreate-react-plus"]=this["webpackJsonpcreate-react-plus"]||[]).push([[0],{26:function(e,t,n){e.exports=n.p+"static/media/thick.c9dcc9e1.png"},40:function(e,t,n){e.exports=n.p+"static/media/black-red.048e3ad1.jpeg"},42:function(e,t,n){e.exports=n(61)},47:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),u=(n(47),n(7)),o=n(63),l=n(23),s=n(14),f=n(4),d=n(62);function m(e){return{type:"SET_INNER_CONTEXT",payload:e}}function h(e){return{type:"SET_INNER_DETECTED_PIXELS",payload:e}}function v(e){return{type:"SET_INNER_RECOLOR_HEX",payload:e}}var p={context:null,recoloredImageData:null,numColoredPixels:0,detectedPixels:[],recolorHex:"#00FF00"};function E(e){return{type:"SET_OUTER_CONTEXT",payload:e}}function O(e){return{type:"SET_OUTER_DETECTED_PIXELS",payload:e}}function b(e){return{type:"SET_OUTER_RECOLOR_HEX",payload:e}}var y={context:null,recoloredImageData:null,numColoredPixels:0,detectedPixels:[],recolorHex:"#FFA500"};var g={isOuterEdit:!0};var x=function(){var e=Object(f.c)((function(e){return e.canvasEdit.isOuterEdit})),t=Object(f.b)(),n=function(){t({type:"TOGGLE_IS_OUTER_EDIT"})};return r.a.createElement("div",null,r.a.createElement("div",null,"Currently editing:"),r.a.createElement(o.a,{active:e,className:"mr-2",variant:"outline-danger",onClick:n},"Outer"),r.a.createElement(o.a,{active:!e,variant:"outline-primary",onClick:n},"Inner"))},j=n(2),C=n.n(j),_=n(5),w=n(10),N=n(24),I=function e(t){var n=t.x,a=t.y;Object(N.a)(this,e),this.x=n,this.y=a},T=n(39),S=function(){function e(t){var n=t.canvasWidth,a=t.imageArray;Object(N.a)(this,e),this.canvasWidth=n,this.imageArray=a}return Object(T.a)(e,[{key:"rgbPixel",value:function(e){var t=e.x,n=e.y,a=R(t,n,this.canvasWidth)+0,r=R(t,n,this.canvasWidth)+1,c=R(t,n,this.canvasWidth)+2;return{r:this.imageArray[a],g:this.imageArray[r],b:this.imageArray[c]}}},{key:"recolor",value:function(e,t){var n=t.r,a=t.g,r=t.b,c=e.x,i=e.y,u=R(c,i,this.canvasWidth)+0,o=R(c,i,this.canvasWidth)+1,l=R(c,i,this.canvasWidth)+2;this.imageArray[u]=Number(n),this.imageArray[o]=Number(a),this.imageArray[l]=Number(r)}}]),e}();function R(e,t,n){return 4*(e+t*n)}function P(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(_.a)(C.a.mark((function e(t,n,a){var r,c,i,u,o,l,s,f,d,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.detectionWidth,c=n.detectionHeight,i=t.getImageData(0,0,r,c),u=$(a),o=new S({canvasWidth:r,imageArray:i.data}),e.next=6,k(o,n);case 6:return l=e.sent,e.next=9,L(o,l);case 9:s=e.sent,f=Object(w.a)(s);try{for(f.s();!(d=f.n()).done;)m=d.value,o.recolor(m,u)}catch(h){f.e(h)}finally{f.f()}return e.abrupt("return",Promise.resolve([i,s]));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return X.apply(this,arguments)}function X(){return(X=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.detectionWidth,r=n.detectionHeight,i={x:c=a/2},u=0,o=0;o<r/2;o++)l={x:c,y:o},s=t.rgbPixel(l),(f=2*s.r-s.b-s.g)>u&&(i.y=o,u=f);return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return M.apply(this,arguments)}function M(){return(M=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.x,n.y,(a=[]).push(n),(r=[]).push(n),c=new Set;r.length>0;){i=r.pop();try{u=J(i.x,i.y),c.add(u),o=W(i),l=Object(w.a)(o);try{for(l.s();!(s=l.n()).done;)f=s.value,d=J(f.x,f.y),!c.has(d)&&A(i,f,t,n)&&(r.push(f),a.push(f),c.add(d))}catch(m){l.e(m)}finally{l.f()}}catch(h){console.error(h)}}return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,a){var r=n.rgbPixel(a),c=2*r.r-r.g-r.b,i=n.rgbPixel(e),u=n.rgbPixel(t);return 2*u.r-u.g-u.b+50>c&&Math.abs(i.r-u.r)<50&&Math.abs(i.g-u.g)<50&&Math.abs(i.b-u.b)<50}var H=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];function W(e){var t,n=[],a=e.x,r=e.y,c=Object(w.a)(H);try{for(c.s();!(t=c.n()).done;){var i=t.value,u=Object(s.a)(i,2),o=u[0],l=u[1];n.push(new I({x:o+a,y:l+r}))}}catch(f){c.e(f)}finally{c.f()}return n}function U(e,t,n,a,r){return F.apply(this,arguments)}function F(){return(F=Object(_.a)(C.a.mark((function e(t,n,a,r,c){var i,u,o,l,s,f,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.width,u=t.height,o=c.leftX,l=c.rightX,s=r.context.getImageData(0,0,i,u),e.next=5,G({width:i,height:u},s,{leftX:o,rightX:l},n);case 5:return f=e.sent,e.next=8,G({width:i,height:u},s,{leftX:o,rightX:l},a);case 8:return d=e.sent,e.abrupt("return",Promise.resolve({imageData:s,outerNumPixelsColored:f,innerNumPixelsColored:d}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n,a){return B.apply(this,arguments)}function B(){return(B=Object(_.a)(C.a.mark((function e(t,n,a,r){var c,i,u,o,l,f,d,m,h,v,p,E,O,b,y,g,x,j,_,N;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.width,i=t.height,u=a.leftX,o=a.rightX,l=$(r.recolorHex),f=V(r.detectedPixels,{leftX:u,rightX:o}),d=f.numDetectedPixels,m=f.existingPixels,h=Q(J,m),v=Object(w.a)(m);try{for(v.s();!(p=v.n()).done;)if(E=Object(s.a)(p.value,2),null!=(O=E[1]))for(b=O.x,y=O.y,g=y;g<i/2;g++)h(b,g)||(x=q(b,g,c)+0,j=q(b,g,c)+1,_=q(b,g,c)+2,n.data[x]=l.r,n.data[j]=l.g,n.data[_]=l.b,N=J(b,g),m.set(N,null),d++)}catch(C){v.e(C)}finally{v.f()}return e.abrupt("return",d);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){var n,a=t.leftX,r=t.rightX,c=new Map,i=0,u=Object(w.a)(e);try{for(u.s();!(n=u.n()).done;){var o=n.value,l=o.x,s=o.y;if(l>=a&&l<=r){var f=J(l,s);c.set(f,o),i++}}}catch(d){u.e(d)}finally{u.f()}return{numDetectedPixels:i,existingPixels:c}}function J(e,t){return String(e)+String(t)}function Q(e,t){return function(n,a){var r=e(n,a);return t.has(r)}}function $(e){var t=0,n=0,a=0;return 4==e.length?(t="0x"+e[1]+e[1],n="0x"+e[2]+e[2],a="0x"+e[3]+e[3]):7==e.length&&(t="0x"+e[1]+e[2],n="0x"+e[3]+e[4],a="0x"+e[5]+e[6]),{r:t,g:n,b:a}}function q(e,t,n){return 4*(e+t*n)}function z(e,t,n,a){null!=e&&e.drawImage(a,0,0,t,n)}function K(){return(K=Object(_.a)(C.a.mark((function e(t,n,a,r,c,i){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),z(n,a,r,c),i(0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(_.a)(C.a.mark((function e(t,n,a){var r,c,i,u,o,l,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.width,c=t.height,i={detectionWidth:r,detectionHeight:c},e.next=4,P(n,i,a);case 4:return u=e.sent,o=Object(s.a)(u,2),l=o[0],f=o[1],n.putImageData(l,0,0,0,0,r,c),e.abrupt("return",{canvasContext:n,detectedPixels:f});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){var t=Object(f.b)(),n=Object(f.c)((function(e){return e.image.source})),a=Object(f.c)((function(e){return e.canvasEdit.isOuterEdit})),c=Object(f.c)((function(e){return e.outerCanvasInfo})),i=Object(f.c)((function(e){return e.innerCanvasInfo})),u=Object(f.c)((function(e){return e.canvasSettings.canvasDimensions})),l=u.width,s=u.height,d=e.recolorHex,v=a?c:i;function p(){return(p=Object(_.a)(C.a.mark((function e(){var r,c,i,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.context,e.next=3,Y(n,r,d);case 3:c=e.sent,i=c.canvasContext,u=c.detectedPixels,t((a?E:m)(i)),t((a?O:h)(u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(o.a,{variant:"outline-primary",className:"mx-1",onClick:function(){return function(){return p.apply(this,arguments)}()}},"Recolor detected"),r.a.createElement(o.a,{variant:"outline-primary",className:"mx-1",onClick:function(e){var r=a?function(e){return function(t){e(function(e){return{type:"SET_OUTER_NUM_COLORED_PIXELS",payload:e}}(t))}}(t):function(e){return function(t){e(function(e){return{type:"SET_INNER_NUM_COLORED_PIXELS",payload:e}}(t))}}(t);t((a?O:h)([])),function(e,t,n,a,r,c){K.apply(this,arguments)}(e,v.context,l,s,n,r)}},"Reset"))};n(54);var te=function(e){var t=Object(f.b)(),n=Object(a.useState)(125),c=Object(s.a)(n,2),i=c[0],l=c[1],m=function(e){l((function(t){var n=(t=parseInt(t))+e;return n=(n=n<0?0:n)>255?255:n}))},h=Object(f.c)((function(e){return e.canvasEdit.isOuterEdit})),p=h?b:v,E=Object(f.c)((function(e){return e.innerCanvasInfo.recolorHex})),O=Object(f.c)((function(e){return e.outerCanvasInfo.recolorHex})),y=h?O:E,g=Object(u.a)({detectionThreshold:[i,l]},e,{recolorHex:y});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(x,null)),r.a.createElement("div",null,r.a.createElement(d.a.Label,null,"Recolor:"),r.a.createElement(d.a.Control,{className:"mx-auto input",type:"color",value:y,onChange:function(e){var n=e.target.value;t(p(n))}})),r.a.createElement("div",null,r.a.createElement(d.a.Label,null,"Sensitivity: ",i),r.a.createElement("div",{className:"d-flex mx-auto mb-3 justify-content-center"},r.a.createElement(d.a.Control,{className:"input mx-2",type:"range",min:0,max:255,value:i,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"d-flex mx-auto justify-content-center"},r.a.createElement(o.a,{onClick:function(){m(-15)},variant:"outline-primary"},"-15"),r.a.createElement(o.a,{className:"mx-2",onClick:function(){m(-5)},variant:"outline-primary"},"-5"),r.a.createElement(o.a,{className:"mx-2",onClick:function(){m(-1)},variant:"outline-primary"},"-1"),r.a.createElement(o.a,{className:"mx-2",onClick:function(){m(1)},variant:"outline-primary"},"+1"),r.a.createElement(o.a,{className:"mx-2",onClick:function(){m(5)},variant:"outline-primary"},"+5"),r.a.createElement(o.a,{onClick:function(){m(15)},variant:"outline-primary"},"+15"))),r.a.createElement("div",{className:"m-2"},r.a.createElement(ee,g)))};n(56);var ne=function(e){var t=Object(f.b)(),n=e.image,c=e.canvasDimensions,i=c.canvasWidth,u=c.canvasHeight,o=e.drawDimensions,l=o.drawWidth,d=o.drawHeight,m=Object(s.a)(e.canvasContext,2),h=m[0],v=m[1],p=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=p.current.getContext("2d");t(v(e))}),[]),Object(a.useEffect)((function(){if(null!=n&&null!=h){var e=p.current;e.width=i,e.height=u,h.drawImage(n,0,0,l,d)}}),[n,l,d,i,u]),r.a.createElement("div",null,r.a.createElement("canvas",{ref:p,className:"border"}))},ae=n(25),re=n.n(ae);function ce(e){return function(t){var n=new Image;n.onload=function(){t({type:"IMAGE_SET",payload:n})},n.src=e}}var ie={source:null};function ue(e){return{type:"SET_COMBINE_CONTEXT",payload:e}}function oe(e){return{type:"SET_NUM_COLORED_INNER_PIXELS",payload:e}}function le(e){return{type:"SET_NUM_COLORED_OUTER_PIXELS",payload:e}}var se={context:null,numColoredOuterPixels:0,numColoredInnerPixels:0};function fe(e,t,n,a,r){return de.apply(this,arguments)}function de(){return(de=Object(_.a)(C.a.mark((function e(t,n,a,r,c){var i,u,o,l,s,f,d,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.detectedPixels,u=n.detectedPixels,e.next=4,me(i,u);case 4:return o=e.sent,e.next=7,ve(i,u);case 7:return l=e.sent,e.next=10,U(r,t,n,a,{leftX:o,rightX:l});case 10:s=e.sent,f=s.imageData,d=s.outerNumPixelsColored,m=s.innerNumPixelsColored,a.context.putImageData(f,0,0,0,0,r.width,r.height),c(ue(a.context)),c(oe(m)),c(le(d));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){return he.apply(this,arguments)}function he(){return(he=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Number.MAX_SAFE_INTEGER,r=Object(w.a)(t);try{for(r.s();!(c=r.n()).done;)i=c.value,u=i.x,a=Math.min(a,u)}catch(m){r.e(m)}finally{r.f()}o=Number.MAX_SAFE_INTEGER,l=Object(w.a)(n);try{for(l.s();!(s=l.n()).done;)f=s.value,d=f.x,o=Math.min(o,d)}catch(m){l.e(m)}finally{l.f()}return e.abrupt("return",Math.max(a,o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,r=Object(w.a)(t);try{for(r.s();!(c=r.n()).done;)i=c.value,u=i.x,a=Math.max(a,u)}catch(m){r.e(m)}finally{r.f()}o=0,l=Object(w.a)(n);try{for(l.s();!(s=l.n()).done;)f=s.value,d=f.x,o=Math.max(o,d)}catch(m){l.e(m)}finally{l.f()}return e.abrupt("return",Math.min(a,o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=function(e){var t,n=Object(f.b)(),c=Object(f.c)((function(e){return e.outerCanvasInfo})),i=Object(f.c)((function(e){return e.innerCanvasInfo})),l=Object(f.c)((function(e){return e.combinedCanvasInfo})),s=Object(f.c)((function(e){return e.canvasSettings.canvasDimensions})),d=Object(f.c)((function(e){return e.image.source})),m=l.numColoredOuterPixels,h=l.numColoredInnerPixels,v=Object(u.a)({},e,{canvasContext:[l.context,ue]});return Object(a.useEffect)((function(){d&&fe(c,i,l,s,n)}),[d]),r.a.createElement("div",null,r.a.createElement(ne,v),r.a.createElement(o.a,{className:"my-2",variant:"outline-primary",onClick:function(){fe(c,i,l,s,n)}},"Recolor"),r.a.createElement("div",null,r.a.createElement("div",null,"Calculated Loss %:"," ",(100*((t=m)-h)/t).toFixed(4))))};n(57);var Oe=n(26),be=n.n(Oe),ye=n(40),ge=n.n(ye);var xe=Object(l.withOrientationChange)((function(e){var t=Object(f.b)(),n=Object(f.c)((function(e){return e.videoReducer.videoConstraints})),c=Object(f.c)((function(e){return e.image.source})),i=Object(f.c)((function(e){return e.innerCanvasInfo.context})),l=Object(f.c)((function(e){return e.outerCanvasInfo.context})),s=Object(f.c)((function(e){return e.canvasSettings.canvasDimensions}));Object(a.useEffect)((function(){t(ce(ge.a))}),[]);var d=e.isPortrait,h=Object(a.useRef)(null),v=Object(a.useRef)(null),p=Object(a.useCallback)((function(){var e=h.current.getScreenshot();t(ce(e)),function(e,t){var n=document.createElement("a");n.href=e,n.download=t+".jpeg",n.click()}(e,"image")}),[h]),O={image:c,canvasDimensions:{canvasWidth:s.width,canvasHeight:s.height},drawDimensions:{drawWidth:s.width,drawHeight:s.height},canvasContext:[l,E]},b=Object(u.a)({},O,{canvasContext:[i,m]}),y=Object(u.a)({},b);return r.a.createElement("div",{className:"App"},d&&r.a.createElement("h5",null,"Please rotate your device"),!d&&r.a.createElement("div",{className:"d-flex justify-content-around align-items-center",ref:v},r.a.createElement("div",{style:{position:"relative",float:"top"}},r.a.createElement(re.a,{audio:!1,height:n.height,ref:h,screenshotFormat:"image/jpeg",width:n.width,videoConstraints:n}),r.a.createElement("div",{className:"overlay"},r.a.createElement("img",{className:"target",style:{height:n.height},src:be.a}))),r.a.createElement("div",{className:"my-3"},r.a.createElement(o.a,{onClick:function(){return p()},variant:"outline-primary"},"Take picture"))),r.a.createElement(ne,O),r.a.createElement(ne,b),r.a.createElement(te,null),r.a.createElement("div",null,r.a.createElement(Ee,y)))})),je=n(33);function Ce(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f,d,m,h,v,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.width,r=t.height,c={detectionWidth:a,detectionHeight:r},(i=n.context).drawImage(t,0,0,a,r),u=i.getImageData(0,0,a,r),o=new S({canvasWidth:c.detectionWidth,imageArray:u.data}),e.next=8,Ie(o,c);case 8:return l=e.sent,e.next=11,L(o,l);case 11:return s=e.sent,e.next=14,we(l,s,o,a,r);case 14:return f=e.sent,e.next=17,L(o,f);case 17:d=e.sent,m=[].concat(Object(je.a)(s),Object(je.a)(d)),h=Object(w.a)(m);try{for(h.s();!(v=h.n()).done;)p=v.value,o.recolor(p,{r:0,g:0,b:255})}catch(E){h.e(E)}finally{h.f()}return i.putImageData(u,0,0,0,0,c.detectionWidth,c.detectionHeight),e.abrupt("return",Promise.resolve([i]));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,n,a,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(_.a)(C.a.mark((function e(t,n,a,r,c){var i,u,o,l,s,f,d,m,h,v,p,E,O,b,y,g;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c/2,u=Math.abs(t.y-i),o=t.y,s=r/2,f=(l=u<o)?Number.MAX_VALUE:Number.MIN_VALUE,d=l?Math.min:Math.max,m=Object(w.a)(n);try{for(m.s();!(h=m.n()).done;)v=h.value.y,f=d(f,v)}catch(x){m.e(x)}finally{m.f()}for(p={x:s},E=0,O=l?0:i;O!==f;)b={x:s,y:O},y=a.rgbPixel(b),(g=2*y.r-y.b-y.g)>E&&(p.y=O,E=g),l?O++:O--;return e.abrupt("return",p);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(_.a)(C.a.mark((function e(t,n){var a,r,c,i,u,o,l,s,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.detectionWidth,r=n.detectionHeight,i={x:c=a/2},u=0,o=0;o<r/2;o++)l={x:c,y:o},s=t.rgbPixel(l),(f=2*s.r-s.b-s.g)>u&&(i.y=o,u=f);return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Se=function(e){Object(f.b)(),Object(f.c)((function(e){return e.outerCanvasInfo})),Object(f.c)((function(e){return e.innerCanvasInfo}));var t,n=Object(f.c)((function(e){return e.combinedCanvasInfo})),a=(Object(f.c)((function(e){return e.canvasSettings.canvasDimensions})),Object(f.c)((function(e){return e.image.source}))),c=n.numColoredOuterPixels,i=n.numColoredInnerPixels,l=Object(u.a)({},e,{canvasContext:[n.context,ue]});function s(){return(s=Object(_.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(a,n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-around align-items-center"},r.a.createElement(ne,l),r.a.createElement("div",null,r.a.createElement(o.a,{className:"my-2",variant:"outline-primary",onClick:function(){return s.apply(this,arguments)}},"Full analysis"),r.a.createElement("div",null,"Calculated Loss %:"," ",(100*((t=c)-i)/t).toFixed(4)))))};n(58);var Re=Object(l.withOrientationChange)((function(e){var t=Object(f.b)(),n=Object(f.c)((function(e){return e.videoReducer.videoConstraints})),c=Object(f.c)((function(e){return e.image.source})),i=Object(f.c)((function(e){return e.canvasSettings.canvasDimensions})),u=e.isPortrait,l=Object(a.useRef)(null),s=Object(a.useRef)(null);Object(a.useEffect)((function(){}),[]);var d=Object(a.useCallback)((function(){var e=l.current.getScreenshot();t(ce(e))}),[l]),m={image:c,canvasDimensions:{canvasWidth:i.width,canvasHeight:i.height},drawDimensions:{drawWidth:i.width,drawHeight:i.height}};return r.a.createElement("div",{className:"App"},u&&r.a.createElement("h5",null,"Please rotate your device"),!u&&r.a.createElement("div",{className:"d-flex justify-content-around align-items-center",ref:s},r.a.createElement("div",{style:{position:"relative",float:"top"}},r.a.createElement(re.a,{audio:!1,height:n.height,ref:l,screenshotFormat:"image/jpeg",width:n.width,videoConstraints:n}),r.a.createElement("div",{className:"overlay"},r.a.createElement("img",{className:"target",style:{height:n.height},src:be.a}))),r.a.createElement("div",{className:"my-3"},r.a.createElement(o.a,{onClick:function(){return d()},variant:"outline-primary"},"Take picture"))),r.a.createElement("div",null,r.a.createElement(Se,m)))})),Pe=n(27),De=n(9);var ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Pe.b,{to:"/auto",activeClassName:"selected"},"Auto")),r.a.createElement("li",null,r.a.createElement(Pe.b,{to:"/manual",activeClassName:"selected"},"Manual")))),r.a.createElement(De.c,null,r.a.createElement(De.a,{path:"/manual"},r.a.createElement(xe,null)),r.a.createElement(De.a,{path:"/auto"},r.a.createElement(Re,null))))))};var Xe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(60);var Le=n(18),Me=n(41);var Ae={canvasDimensions:{width:450,height:320}};var He={videoConstraints:{width:450,height:320,facingMode:{exact:"environment"},audio:!1,imageSmoothing:!0,screenshotQuality:1}};var We=Object(Le.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_SET":return Object(u.a)({},e,{source:t.payload});default:return e}},canvasEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IS_OUTER_EDIT":return Object(u.a)({},e,{isOuterEdit:!e.isOuterEdit});default:return e}},innerCanvasInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INNER_CONTEXT":return Object(u.a)({},e,{context:t.payload});case"SET_INNER_RECOLORED_IMAGE_DATA":return Object(u.a)({},e,{recoloredImageData:t.payload});case"SET_INNER_DETECTED_PIXELS":return Object(u.a)({},e,{detectedPixels:t.payload});case"SET_INNER_NUM_COLORED_PIXELS":return Object(u.a)({},e,{numColoredPixels:t.payload});case"SET_INNER_RECOLOR_HEX":return Object(u.a)({},e,{recolorHex:t.payload});default:return e}},outerCanvasInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OUTER_CONTEXT":return Object(u.a)({},e,{context:t.payload});case"SET_OUTER_RECOLORED_IMAGE_DATA":return Object(u.a)({},e,{recoloredImageData:t.payload});case"SET_OUTER_DETECTED_PIXELS":return Object(u.a)({},e,{detectedPixels:t.payload});case"SET_OUTER_NUM_COLORED_PIXELS":return Object(u.a)({},e,{numColoredPixels:t.payload});case"SET_OUTER_RECOLOR_HEX":return Object(u.a)({},e,{recolorHex:t.payload});default:return e}},combinedCanvasInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMBINE_CONTEXT":return Object(u.a)({},e,{context:t.payload});case"SET_NUM_COLORED_INNER_PIXELS":return Object(u.a)({},e,{numColoredInnerPixels:t.payload});case"SET_NUM_COLORED_OUTER_PIXELS":return Object(u.a)({},e,{numColoredOuterPixels:t.payload});default:return e}},canvasSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CANVAS_DIMENSIONS":return Object(u.a)({},e,{source:t.payload});default:return e}},videoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ue=Object(Le.d)(We,Object(Le.a)(Me.a));i.a.render(r.a.createElement(f.a,{store:Ue},r.a.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.bb23bbf8.chunk.js.map